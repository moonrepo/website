---
title: Code generation
icon: CodeXml
---

Code generation provides an easy mechanism for automating common development workflows and file
structures. Whether it's scaffolding a new library or application, updating configuration, or
standardizing patterns.

To accomplish this, we provide a generator, which is divided into two parts. The first being the
templates and their files to be scaffolded. The second is our rendering engine that writes template
files to a destination.

## Key concepts

The following concepts are important to understand when working with code generation in moon.

- **Template** - A set of files, directories, and variables that define the structure and content to be generated, encapsulated by the `template.*` configuration file.
- **Template locator** - A reference to the template's location, which can be defined as a file path, Git URL, npm package, and more.
- **Text file** - A text file within a template that can contain variables to be rendered.
- **Asset file** - A binary file within a template that is copied as-is without any rendering.
- **Variable** - A placeholder within a template file that is replaced with a specific value during rendering.
- **Destination** - The target directory where the generated files will be written.
- **Renderer** - The engine that processes template files, replacing variables with their corresponding values, and writing the output to the destination.
- **Generator** - The command-line tool that orchestrates the code generation process, including loading templates, rendering files, and writing to the destination.

## Creating a new template

To create a new template, run [`moon generate --template`][command]. This
will create a template directory in the 1st file-based template
location defined in [`generator.templates`][gen-templates].

```shell
$ moon generate <name> --template
```

Every template requires a [`template.*`][config] file in the template's directory root. This file
acts as a schema and declares metadata and variables required by the generator.

<ConfigTabs
  file="template"
  config={{
    title: "npm package",
    description:
      "Scaffolds the initial structure for an npm package, including source and test folders, a package.json, and more.",
    variables: {
      name: {
        type: "string",
        default: "",
        required: true,
        prompt: "Package name?",
      },
    },
  }}
/>

TODO

[config]: ../config/template
[command]: ../commands/generate
[gen-templates]: ../config/workspace#templates
